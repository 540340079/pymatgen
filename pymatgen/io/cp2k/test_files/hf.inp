
! parameters needed to calculate energy and forces
! and describe the system you want to analyze.
&FORCE_EVAL 
	METHOD QS

	! a subsystem: coordinates, topology, molecules
	! and cell
	&SUBSYS 

		! Input parameters needed to set up the CELL.
		&CELL 
			ABC 10 10 10
		&END CELL

		! The coordinates for simple systems (like small
		! QM cells) are specified here by default using
		! explicit XYZ coordinates. More complex systems
		! should be given via an external coordinate
		! file in the SUBSYS%TOPOLOGY section.
		&COORD 
			Si 0 0 0
		&END COORD

		! The description of the kind of the atoms
		! (mostly for QM)
		&KIND Si
			ELEMENT Si
			MAGNETIZATION 0.0
			BASIS_SET DZVP-MOLOPT-GTH
			POTENTIAL GTH-PBE
			BASIS_SET AUX_FIT cFIT3
		&END KIND
	&END SUBSYS

	! parameter needed by dft programs
	&DFT 
		BASIS_SET_FILE_NAME BASIS_MOLOPT
		POTENTIAL_FILE_NAME GTH_POTENTIALS
		UKS True
		MULTIPLICITY 0
		CHARGE 0
		BASIS_SET_FILE_NAME BASIS_ADMM

		! parameters needed to set up the Quickstep
		! framework
		&QS 
			METHOD GPW
			EPS_DEFAULT 1e-12
			EXTRAPOLATION ASPC
		&END QS

		! Parameters needed to perform an SCF run.
		&SCF 
			MAX_SCF 50
			EPS_SCF 1e-07
			SCF_GUESS RESTART

			! Sets the various options for the orbital
			! transformation (OT) method. Default settings
			! already provide an efficient, yet robust
			! method. Most systems benefit from using the
			! FULL_ALL preconditioner combined with a small
			! value (0.001) of ENERGY_GAP. Well-behaved
			! systems might benefit from using a DIIS
			! minimizer. Advantages: It's fast, because no
			! expensive diagonalisationis performed. If
			! preconditioned correctly, method guaranteed
			! to find minimum. Disadvantages: Sensitive to
			! preconditioning. A good preconditioner can be
			! expensive. No smearing, or advanced SCF
			! mixing possible: POOR convergence for metalic
			! systems.
			&OT 
				MINIMIZER DIIS
				PRECONDITIONER FULL_ALL
				ENERGY_GAP 0.01
			&END OT
			&OUTER_SCF 
				MAX_SCF 20
				EPS_SCF 1e-07
			&END OUTER_SCF
		&END SCF

		! Multigrid information. Multigrid allows for
		! sharp gaussians and diffuse gaussians to be
		! treated on different grids, where the spacing
		! of FFT integration points can be tailored to
		! the degree of sharpness/diffusiveness of the
		! gaussians.
		&MGRID 
			CUTOFF 1200 ! Cutoff in [Ry] for finest level of the MG.
			REL_CUTOFF 80 ! Controls which gaussians are mapped to which level of the MG
			NGRIDS 5
			PROGRESSION_FACTOR 3
		&END MGRID
		&XC 
			&XC_FUNCTIONAL 
				&PBE 
					PARAMETRIZATION ORIG
					SCALE_C 1
					SCALE_X 0.75
				&END PBE
				&XWPBE 
					SCALE_X0 1
					SCALE_X -0.25
					OMEGA 0.11
				&END XWPBE
			&END XC_FUNCTIONAL
			&HF 
				FRACTION 0.25
				&SCREENING 
					EPS_SCHWARZ 1e-07
					EPS_SCHWARZ_FORCES 1e-07
					SCREEN_ON_INITIAL_P True
					SCREEN_P_FORCES True
				&END SCREENING
				&INTERACTION_POTENTIAL 
					POTENTIAL_TYPE SHORTRANGE
					OMEGA 0.11
				&END INTERACTION_POTENTIAL
				&LOAD_BALANCE 
					RANDOMIZE True
				&END LOAD_BALANCE
				&MEMORY 
					EPS_STORAGE_SCALING 0.1
					MAX_MEMORY 5000
				&END MEMORY
			&END HF
		&END XC
		&PRINT 

			! Controls printing of the projected density of
			! states
			&PDOS 
				NLUMO -1
				COMPONENTS 

				! Controls printing of the projected density
				! of states decomposed by atom type
				&LDOS 
					COMPONENTS 
				&END LDOS
			&END PDOS

			! Controls the printing of cube files with the
			! electronic density and, for LSD calculations,
			! the spin density.
			&E_DENSITY_CUBE 
			&END E_DENSITY_CUBE

			! Controls the printing of a cube file with
			! eletrostatic potential generated by the total
			! density (electrons+ions). It is valid only
			! for QS with GPW formalism. Note that by
			! convention the potential has opposite sign
			! than the expected physical one.
			&V_HARTREE_CUBE 
			&END V_HARTREE_CUBE

			! Controls the printing of a cube file with
			! eletrostatic potential generated by the total
			! density (electrons+ions). It is valid only
			! for QS with GPW formalism. Note that by
			! convention the potential has opposite sign
			! than the expected physical one.
			&MO_CUBES 
				WRITE_CUBE False
				NHOMO 1
				NLUMO 1
			&END MO_CUBES
		&END PRINT
		&AUXILIARY_DENSITY_MATRIX_METHOD 
			ADMM_PURIFICATION_METHOD MO_DIAG
			METHOD BASIS_PROJECTION
		&END AUXILIARY_DENSITY_MATRIX_METHOD
	&END DFT
&END FORCE_EVAL
&MOTION 
	&PRINT 
		&TRAJECTORY HIGH
		&END TRAJECTORY
		&CELL 
		&END CELL
	&END PRINT
&END MOTION

! Section with general information regarding which
! kind of simulationto perform an parameters for
! the whole PROGRAM
&GLOBAL 
	PROJECT_NAME Hybrid-Relax
	RUN_TYPE GEO_OPT
&END GLOBAL
